"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6114],{66114:function(e,t,i){i.r(t),i.d(t,{walletConnect:function(){return g}});var s=i(49459),a=i(25634),n=i(9525),o=i(78535),r=i(69834),h=i(46612),c=i(13034);i(68457),i(88819);var l=new WeakMap,d=new WeakMap,b=new WeakMap,w=new WeakMap,p=new WeakMap,u=new WeakMap,_=new WeakMap,v=new WeakMap,f=new WeakSet,m=new WeakSet;class k extends r.a{get walletName(){return"WalletConnect"}constructor(e){super(e?.walletId||k.id,e),(0,s._)(this,m),(0,s._)(this,f),(0,n._)(this,l,{writable:!0,value:void 0}),(0,n._)(this,d,{writable:!0,value:void 0}),(0,a._)(this,"connector",void 0),(0,a._)(this,"projectId",void 0),(0,a._)(this,"qrcode",void 0),(0,n._)(this,b,{writable:!0,value(e){if(e)throw e}}),(0,n._)(this,w,{writable:!0,value:e=>{if((0,n.a)(this,d,e.provider),!(0,n.b)(this,d))throw Error("WalletConnect provider not found after connecting.")}}),(0,n._)(this,p,{writable:!0,value:()=>{(0,s.a)(this,m,W).call(this)}}),(0,n._)(this,u,{writable:!0,async value(e){e.chain||e.account}}),(0,n._)(this,_,{writable:!0,value:e=>{"display_uri"===e.type&&this.emit("open_wallet",e.data)}}),(0,n._)(this,v,{writable:!0,value:()=>{this.emit("open_wallet")}}),this.projectId=e?.projectId||h.T,this.qrcode=e?.qrcode!==!1}async getConnector(){if(!this.connector){let{WalletConnectConnector:e}=await i.e(3826).then(i.bind(i,43826));(0,n.a)(this,l,new e({chains:this.chains,options:{qrcode:this.qrcode,projectId:this.projectId,dappMetadata:this.dappMetadata,storage:this.walletStorage,qrModalOptions:this.options?.qrModalOptions}})),this.connector=new o.W((0,n.b)(this,l)),(0,n.a)(this,d,await (0,n.b)(this,l).getProvider()),(0,s.a)(this,f,M).call(this)}return this.connector}}function M(){(0,n.b)(this,l)&&((0,s.a)(this,m,W).call(this),(0,n.b)(this,l).on("connect",(0,n.b)(this,w)),(0,n.b)(this,l).on("disconnect",(0,n.b)(this,p)),(0,n.b)(this,l).on("change",(0,n.b)(this,u)),(0,n.b)(this,l).on("message",(0,n.b)(this,_)),n.b(this,d)?.signer.client.on("session_request_sent",(0,n.b)(this,v)))}function W(){(0,n.b)(this,l)&&((0,n.b)(this,l).removeListener("connect",(0,n.b)(this,w)),(0,n.b)(this,l).removeListener("disconnect",(0,n.b)(this,p)),(0,n.b)(this,l).removeListener("change",(0,n.b)(this,u)),(0,n.b)(this,l).removeListener("message",(0,n.b)(this,_)),n.b(this,d)?.signer.client.removeListener("session_request_sent",(0,n.b)(this,v)))}(0,a._)(k,"id",c.w.walletConnect),(0,a._)(k,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});let g=e=>{let t=e?.projectId||"145769e410f16970a79ff77b2d89a1e0";return{id:k.id,meta:k.meta,create:i=>new k({...i,qrcode:!0,projectId:t,qrModalOptions:e?.qrModalOptions})}}}}]);